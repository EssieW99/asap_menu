<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Restaurant Menu Template</title>
	<link rel="stylesheet" type="text/css" href='/static/css/menu_templates/restaurant.css'>
</head>
<body>
	<div id="template-container">
			<div class="menu-container">
			<header>
				<h1 contenteditable="true">Olivia's Restaurant</h1>
			</header>
			<section class="menu">
				<div class="menu-section" contenteditable="true">
					<h2 contenteditable="true">Main</h2>
					<ul style="font-weight: bold;">
						<li>Rice<span>Ksh 80</span></li>
						<li>Ugali <span>Ksh 40</span></li>
						<li> Chapati<span>Ksh 30</span></li>
						<li>Beans<span>Ksh 60</span></li>
						<li>Fish<span>Ksh 250</span></li>
						<li>Greens<span>Ksh 50</span></li>
						<li>Item<span>Amount</span></li>
						<li>Item<span>Amount</span></li>
					</ul>
				</div>
				<div class="menu-section" contenteditable="true">
					<h2 contenteditable="true">Soft Drinks</h2>
					<ul style="font-weight: bold;">
						<li>Milk <span>ksh 100</span></li>
						<li>Soda 500ml <span>Ksh 100</span></li>
						<li>Bottled Water <span>Ksh 100</span></li>
						<li>Item <span>Amount</span></li>
						<li>Item <span>Amount</span></li>
						<li>Item <span>Amount</span></li>
						<li>Item <span>Amount</span></li>
					</ul>
				</div>
				<div class="menu-section" contenteditable="true">
					<h2 contenteditable="true">Pastries</h2>
					<ul style="font-weight: bold;">
						<li>Item <span>Amount</span></li>
						<li>Item <span>Amount</span></li>
						<li>Item <span>Amount</span></li>
						<li>Item<span>Amount</span></li>
						<li>Item<span>Amount</span></li>
						<li>Item<span>Amount</span></li>
					</ul>
				</div>
				<div class="menu-section" contenteditable="true">
					<h2 contenteditable="true">Dessert Menu</h2>
					<ul style="font-weight: bold;">
						<li>Vanilla Ice-Cream <span>Ksh 150</span></li>
						<li>Chocolate Ice-Cream <span>Ksh 150</span></li>
						<li>Fresh Salad <span>Ksh 200</span></li>
						<li>Item <span>Amount</span></li>
						<li>Item <span>Amount</span></li>
						<li>Item<span>Amount</span></li>
					</ul>
				</div>
			</section>
			<footer contenteditable="true">
				<p style="font-weight: bold;">It's never a dull day to treat yourself: 0798 569 234</p>
			</footer>
		</div>
	</div>
	<button class="fixed-button" id="saveButton">Download</button>
	<button class="fixed-button" id="deleteButton">Back</button>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
    <script>
        document.getElementById('saveButton').addEventListener('click', function () {
            var element = document.getElementById('template-container');

            var contentWidth = element.offsetWidth;
            var contentHeight = element.offsetHeight;

            // Configure html2pdf options
            const options = {
                margin: 0,
                filename: 'asap_menu.pdf',
                image: { type: 'jpeg', quality: 1 },
                html2canvas: { 
                    scale: 2,
                    useCORS: true,
                    backgroundColor: 'transparent'
                },
                jsPDF: {
                    unit: 'px',
                    format: [contentWidth, contentHeight]
                }
            };

            // Use html2pdf to generate the PDF
            html2pdf().from(element).set(options).save();
        });

        document.getElementById('deleteButton').addEventListener('click', function () {
            window.location.href = '/';
        });
    </script>
</body>
</html>